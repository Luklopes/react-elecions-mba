(this["webpackJsonpreact-projeto-base"]=this["webpackJsonpreact-projeto-base"]||[]).push([[0],{76:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(23),o=n.n(r),s=n(4),i=n(6),u=n(8),l=n(11),d=n(25),j=n(24),b=n.n(j).a.create({baseURL:"http://localhost:3046"}),p=[],O=[],h=[],f={};function x(){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(Object(s.a)().mark((function e(){var t,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("/candidates");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return v.apply(this,arguments)}function v(){return(v=Object(i.a)(Object(s.a)().mark((function e(){var t,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("/cities");case 2:return t=e.sent,n=t.data,e.abrupt("return",n.sort((function(e,t){return e.name.localeCompare(t.name)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return k.apply(this,arguments)}function k(){return(k=Object(i.a)(Object(s.a)().mark((function e(){var t,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("/year");case 2:return t=e.sent,n=t.data,console.log("year",n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return _.apply(this,arguments)}function _(){return(_=Object(i.a)(Object(s.a)().mark((function e(t){var n,c,a,r,o,i,u,j;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],c=[],a=[],!(p.length>0)){e.next=8;break}console.log("Obtendo cities do cache"),n=p,e.next=13;break;case 8:return console.log("Obtendo cities do backend"),e.next=11,m();case 11:n=e.sent,p=n;case 13:if(!(O.length>0)){e.next=18;break}console.log("Obtendo candidates do cache"),c=O,e.next=23;break;case 18:return console.log("Obtendo candidates do backend"),e.next=21,x();case 21:c=e.sent,O=c;case 23:if(!(h.length>0)){e.next=28;break}console.log("Obtendo candidates do cache"),a=O,e.next=33;break;case 28:return console.log("Obtendo years do backend"),e.next=31,y();case 31:a=e.sent,O=a;case 33:if(!f[t]){e.next=35;break}return e.abrupt("return",f[t]);case 35:return r=n.find((function(e){return e.id===t})),e.next=38,b.get("/election?cityId=".concat(t));case 38:return o=e.sent,i=o.data,u={city:r,election:Object(d.a)(i.sort((function(e,t){return t.votes-e.votes}))).map((function(e){var t=c.find((function(t){return t.id===e.candidateId}));return Object(l.a)(Object(l.a)({},e),{},{candidate:t})}))},j={city:Object(l.a)({},u.city),election:u.election.map((function(e,t){var n=e.id,c=e.votes,a=e.candidate,r=a.name,o=a.username;return{id:n,votes:c,percent:c/u.city.presence*100,elected:0===t,candidate:{name:r,username:o}}}))},f[t]=j,console.log(f),console.log(h),e.abrupt("return",j);case 46:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=n(13),E=n(1);function C(){var e=Object(c.useState)(!0),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!0),o=Object(u.a)(r,2),l=(o[0],o[1]),d=Object(c.useState)([]),j=Object(u.a)(d,2),b=(j[0],j[1]),p=Object(c.useState)([]),O=Object(u.a)(p,2),h=O[0],f=O[1],x=Object(c.useState)([]),g=Object(u.a)(x,2),v=(g[0],g[1]),k=Object(c.useState)(null),_=Object(u.a)(k,2),C=_[0],I=_[1];Object(c.useEffect)((function(){function e(){return e=Object(i.a)(Object(s.a)().mark((function e(){var t,n,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return t=e.sent,b(t),I(t[0].id),a(!1),e.next=8,y();case 8:n=e.sent,console.log(n),console.log("certo",n[0][2003][46]),c=n[0][2003][n[0][2003].length-1],console.log("ultimoElemento",c),f(c),console.log(n[2003]);case 15:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(i.a)(Object(s.a)().mark((function e(){var t;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,w(C);case 3:t=e.sent,v(t),l(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}C&&function(){e.apply(this,arguments)}()}),[C]);var J=h;if(console.log("classificacao",J),console.log("classificacao partidas",J.partidas[0]),n)return Object(E.jsx)("div",{className:"text-center mt-4",children:Object(E.jsx)(S.ClipLoader,{})});S.ClipLoader;return Object(E.jsxs)("table",{children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Posi\xe7\xe3o"}),Object(E.jsx)("th",{children:"Time"}),Object(E.jsx)("th",{children:"Jogos"}),Object(E.jsx)("th",{children:"Pontos"}),Object(E.jsx)("th",{children:"Vit\xf3rias"}),Object(E.jsx)("th",{children:"Empates"}),Object(E.jsx)("th",{children:"Derrotas"}),Object(E.jsx)("th",{children:"Gols marcados"}),Object(E.jsx)("th",{children:"Gols sofridos"}),Object(E.jsx)("th",{children:"Saldo de gols"})]})}),Object(E.jsx)("tbody",{children:J.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:t+1}),Object(E.jsx)("td",{children:e.time}),Object(E.jsx)("td",{children:e.pontuacao.total_jogos}),Object(E.jsx)("td",{children:e.pontuacao.total_pontos}),Object(E.jsx)("td",{children:e.pontuacao.total_vitorias}),Object(E.jsx)("td",{children:e.pontuacao.total_empates}),Object(E.jsx)("td",{children:e.pontuacao.total_derrotas}),Object(E.jsx)("td",{children:e.pontuacao.total_gols_marcados}),Object(E.jsx)("td",{children:e.pontuacao.total_gols_sofridos}),Object(E.jsx)("td",{children:e.pontuacao.saldo_gols})]},e.time)}))})]})}n(76);o.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(C,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.3204a505.chunk.js.map